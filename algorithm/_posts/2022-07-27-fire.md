---
layout: post
title: "[ë°±ì¤€ - 4179] ë¶ˆ!"
description: >
  ë°±ì¤€ Gold4
sitemap: false
tags: [BFS]
hide_last_modified: true
---

# ğŸ”¥ ë¶ˆ!

# ğŸ“– ì•Œê³ ë¦¬ì¦˜

ë¬¸ì œì—ì„œ ë¬»ê³ ì í•˜ëŠ” ê²ƒì€ ë¯¸ë¡œì—ì„œ ì§€í›ˆì´ê°€ ê°€ì¥ìë¦¬ë¡œ ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ë„ë‹¬í•  ìˆ˜ ìˆëŠ”ì§€ì´ë‹¤.

ë‹¤ì‹œ ë§í•´, **Weightê°€ ì—†ëŠ” ê·¸ë˜í”„ê°€ ì£¼ì–´ì§€ê³  [íŠ¹ì • ë…¸ë“œì—ì„œ íŠ¹ì • ë…¸ë“œì˜ ìµœë‹¨ê±°ë¦¬] ë¬¸ì œ**ë¡œ ì¹˜í™˜í•  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ì‰½ê²Œ BFSë¥¼ ë– ì˜¬ë¦´ ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ, ì£¼ì˜í•  ì ì€ ì§€í›ˆì´ ë¿ë§Œ ì•„ë‹ˆë¼ ë¶ˆì˜ ì´ë™ë„ ë™ì‹œì— ê³ ë ¤í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤. 

# ğŸ“ ì„¤ê³„

![á„‹á…§á†«á„‰á…³á†¸á„Œá…¡á†¼-34](https://user-images.githubusercontent.com/88064555/181114277-01c50a85-fde1-4ce0-aa41-ff4bc8589e5b.jpg)

![á„‹á…§á†«á„‰á…³á†¸á„Œá…¡á†¼-35 2](https://user-images.githubusercontent.com/88064555/181114332-95c6915c-3936-47aa-95d5-03ee524f98ec.jpg)

## TRY 1, ì‹œê°„ ì´ˆê³¼

ì§€í›ˆì´ì™€ ë¶ˆë¡œë¶€í„° BFSë¥¼ ì¶œë°œí•˜ì—¬ ì‹œê°„ì„ ì¦ê°€ì‹œì¼œì¤€ë‹¤. ê·¸ë ‡ê²Œ ëª¨ë“  BFS íƒìƒ‰ì„ ëë§ˆì¹˜ê³  ê°€ì¥ìë¦¬ì— ìœ„ì¹˜í•˜ë©° ë²½ê³¼ ë¶ˆì„ ì œì™¸í•œ ì‹œê°„ë“¤ ì¤‘ì—ì„œ ì œì¼ ì‘ì€ ìˆ«ìë¥¼ ë½‘ì•„ì„œ ì¶œë ¥í•œë‹¤. ì´ ë•Œ, íƒˆì¶œí•˜ê¸° ìœ„í•œ ë§ˆì§€ë§‰ 1ë¶„ë„ í¬í•¨ë˜ì–´ ìˆìœ¼ë‹ˆ +1ë¶„ì„ í•´ì¤€ë‹¤.

## TRY 2, ë©”ëª¨ë¦¬ ì´ˆê³¼

1íŠ¸ì—ì„œëŠ” BFS íƒìƒ‰ ì „ë¶€ ëë§ˆì¹˜ê³  ì‹œê°„ì„ ì°¾ì•˜ëŠ”ë° 2íŠ¸ì—ì„œëŠ” whileë¬¸ ì¤‘ê°„ì— ì§€í›ˆì´ê°€ ê°€ì¥ìë¦¬ì— ë„ë‹¬í–ˆì„ ê²½ìš° ë°”ë¡œ íƒˆì¶œí•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•˜ì˜€ë‹¤.

```python
# ì§€í›ˆì´ íƒˆì¶œ ì¡°ê±´
        if (x == 0 or x == R-1 or y == 0 or y == C-1) and  who == 'J':
            return count[x][y] + 1
```

## TRY 3, ì •ë‹µ

ì†”ë£¨ì…˜ ì°¸ê³ : https://velog.io/@hygge/Python-ë°±ì¤€-4179-ë¶ˆ-BFS

ë©”ëª¨ë¦¬ ì´ˆê³¼ê°€ ë‚˜ì„œ ìµœëŒ€í•œ ë³€ìˆ˜ ì‚¬ìš©ì„ ì¤„ì˜€ë‹¤. ì•„ë˜ëŠ” 2íŠ¸ì—ì„œ ì‚­ì œí•œ ë³€ìˆ˜ë“¤ì´ë‹¤.

ë‚˜ë¦„ ì¤„ì¸ë‹¤ê³  ì¤„ì˜€ëŠ”ë° ë” ì´ìƒ ë­˜ ë” ì¤„ì—¬ì•¼í• ì§€ ëª°ë¼ì„œ ì†”ë£¨ì…˜ì„ ì°¸ê³ í•˜ì˜€ë‹¤. ğŸ˜¡

<img width="797" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-27 á„‹á…©á„Œá…¥á†« 6 32 59" src="https://user-images.githubusercontent.com/88064555/181116025-d1c59386-f9b8-4a7f-8eba-eeafc06dd5ef.png">

+ ë°©ë¬¸ ì—¬ë¶€ visited ë°°ì—´
+ ë¶ˆê³¼ ì§€í›ˆì´ë¥¼ íŒë³„í•˜ëŠ” who
+ ì‹œê°„ì„ ê¸°ë¡í•˜ëŠ” time ë°°ì—´
+ ë¶ˆì˜ ìœ„ì¹˜ë¥¼ ë‹´ëŠ” fire ë°°ì—´

ìµœëŒ€í•œ Queue í•˜ë‚˜ë¡œ ì „ë¶€ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. 

# ğŸ‘¨ğŸ»â€ğŸ’» CODE

## TRY 1

```python
import sys
input = sys.stdin.readline
from collections import deque

R,C = map(int,input().split())
maze = [] # ê·¸ë˜í”„
dx = [1,-1,0,0]
dy = [0,0,1,-1]
fire = [] # ë¶ˆ ìœ„ì¹˜
edge = [] # ê°€ì¥ìë¦¬

for i in range(R):
    maze.append(list(input().rstrip()))

# ì§€í›ˆ,ë¶ˆ ìœ„ì¹˜ ì°¾ê¸°
for i in range(R):
    for j in range(C):
        if maze[i][j] == 'J':
            j_x,j_y = (i,j)
        if maze[i][j] == 'F':
            fire.append((i,j))

# ìµœë‹¨ ê±°ë¦¬ ì°¾ê¸°
def bfs(a,b):
    q = deque([])
    q.append([(a,b),'J'])
    for i in range(len(fire)):
        q.append([(fire[i][0],fire[i][1]),'F'])
    visited = [[False]*C for _ in range(R)]
    count = [[0]*C for _ in range(R)]

    while q:
        temp = q.popleft()
        x,y = temp[0]
        who = temp[1]

        for i in range(4):
            nx = x+dx[i]
            ny = y+dy[i]

            if 0<=nx<R and 0<=ny<C and visited[nx][ny] == False and (nx,ny) not in fire:
                if maze[nx][ny] == '.':
                    if who == 'J': 
                        q.append([(nx,ny),'J'])
                        visited[nx][ny] = True
                        count[nx][ny] = count[x][y] + 1
                    if who == 'F':
                        q.append([(nx,ny),'F'])
                        fire.append((nx,ny))
    
    return count

distance = bfs(j_x,j_y)
answer = []
# ê°€ì¥ìë¦¬ ìµœë‹¨ê±°ë¦¬
for i in range(R):
    if i == 0 or i == R-1:
        for j in range(C):
            if distance[i][j] > 0:
                answer.append(distance[i][j])
    else:
        if distance[i][0] > 0:
            answer.append(distance[i][0])
        if distance[i][C-1] > 0:
            answer.append(distance[i][C-1])

if not answer:
    print("IMPOSSIBLE")
else:
    print(min(answer)+1)
```

## TRY 2

```python
import sys
input = sys.stdin.readline
from collections import deque

R,C = map(int,input().split())
maze = [] # ê·¸ë˜í”„
dx = [1,-1,0,0]
dy = [0,0,1,-1]
fire = [] # ë¶ˆ ìœ„ì¹˜
edge = [] # ê°€ì¥ìë¦¬

for i in range(R):
    maze.append(list(input().rstrip()))

# ì§€í›ˆ,ë¶ˆ ìœ„ì¹˜ ì°¾ê¸°
for i in range(R):
    for j in range(C):
        if maze[i][j] == 'J':
            j_x,j_y = (i,j)
        if maze[i][j] == 'F':
            fire.append((i,j))

# ìµœë‹¨ ê±°ë¦¬ ì°¾ê¸°
def bfs(a,b):
    q = deque([])
    q.append([(a,b),'J'])
    for i in range(len(fire)):
        q.append([(fire[i][0],fire[i][1]),'F'])
    visited = [[False]*C for _ in range(R)]
    count = [[0]*C for _ in range(R)]

    while q:
        temp = q.popleft()
        x,y = temp[0]
        who = temp[1]

        # ì§€í›ˆì´ íƒˆì¶œ ì¡°ê±´
        if (x == 0 or x == R-1 or y == 0 or y == C-1) and  who == 'J':
            return count[x][y] + 1

        for i in range(4):
            nx = x+dx[i]
            ny = y+dy[i]

            if 0<=nx<R and 0<=ny<C and visited[nx][ny] == False and maze[nx][ny] != '#':
                if who == 'J' and maze[nx][ny] == '.': 
                    q.append([(nx,ny),'J'])
                    visited[nx][ny] = True
                    count[nx][ny] = count[x][y] + 1
                if who == 'F' and maze[nx][ny] != 'F':
                    q.append([(nx,ny),'F'])
                    maze[nx][ny] == 'F'

    return None

count = bfs(j_x,j_y)

if count == None:
    print("IMPOSSIBLE")
else:
    print(count)
```

## TRY 3

```python
import sys
input = sys.stdin.readline
from collections import deque

R,C = map(int,input().split())
maze = [] # ê·¸ë˜í”„
dx = [1,-1,0,0]
dy = [0,0,1,-1]

q = deque([])
for i in range(R):
    maze.append(list(input().rstrip()))
    # ì§€í›ˆ ìœ„ì¹˜ ì°¾ê¸°
    if 'J' in maze[i]:
        q.append((i,maze[i].index('J'),0))

# ë¶ˆ ìœ„ì¹˜ ì°¾ê¸°
for i in range(R):
    for j in range(C):
        if maze[i][j] == 'F':
            q.append((i,j,-1))

answer = "IMPOSSIBLE"

while q:
    x,y,time = q.popleft()

    # ì§€í›ˆì´ íƒˆì¶œ ì¡°ê±´
    if (x == 0 or x == R-1 or y == 0 or y == C-1) and  maze[x][y] != 'F' and time > -1:
        answer = time + 1
        break

    for i in range(4):
        nx = x+dx[i]
        ny = y+dy[i]

        if 0<=nx<R and 0<=ny<C and maze[nx][ny] != '#':
            # ì§€í›ˆì´
            if time > -1 and maze[nx][ny] == '.': 
                q.append((nx,ny,time+1))
                maze[nx][ny] = 'V'
            # ë¶ˆ
            elif time == -1 and maze[nx][ny] != 'F':
                q.append((nx,ny,-1))
                maze[nx][ny] = 'F'

print(answer)
```






